<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main.js Debug</title>
</head>
<body>
    <h1>ğŸ” main.js Debug</h1>
    <div id="debug-info"></div>

    <script>
        async function debugMainJs() {
            const debug = document.getElementById('debug-info');
            
            try {
                // Fetch main.js dosyasÄ±nÄ± al
                const response = await fetch('assets/js/main.js');
                const mainJsContent = await response.text();
                
                // SatÄ±r satÄ±r ayÄ±r
                const lines = mainJsContent.split('\n');
                
                debug.innerHTML += '<h2>ï¿½ï¿½ï¿½ main.js Ä°Ã§eriÄŸi Analizi</h2>';
                debug.innerHTML += '<p><strong>Toplam satÄ±r sayÄ±sÄ±:</strong> ' + lines.length + '</p>';
                
                // 78. satÄ±rÄ± kontrol et
                if (lines.length >= 78) {
                    debug.innerHTML += '<h3>ğŸ¯ 78. SatÄ±r:</h3>';
                    debug.innerHTML += '<pre style="background:#f8f9fa;padding:10px;border-radius:5px;">';
                    debug.innerHTML += 'SatÄ±r 76: ' + (lines[75] || '') + '\n';
                    debug.innerHTML += 'SatÄ±r 77: ' + (lines[76] || '') + '\n';
                    debug.innerHTML += 'SatÄ±r 78: ' + (lines[77] || '') + '\n';
                    debug.innerHTML += 'SatÄ±r 79: ' + (lines[78] || '') + '\n';
                    debug.innerHTML += 'SatÄ±r 80: ' + (lines[79] || '') + '\n';
                    debug.innerHTML += '</pre>';
                }
                
                // Dashboard ara
                debug.innerHTML += '<h3>ğŸ” "dashboard" Arama SonuÃ§larÄ±:</h3>';
                let dashboardFound = false;
                
                lines.forEach((line, index) => {
                    if (line.toLowerCase().includes('dashboard')) {
                        debug.innerHTML += '<p><strong>SatÄ±r ' + (index + 1) + ':</strong> ' + line + '</p>';
                        dashboardFound = true;
                    }
                });
                
                if (!dashboardFound) {
                    debug.innerHTML += '<p style="color:green;">âœ… main.js dosyasÄ±nda "dashboard" referansÄ± bulunamadÄ±</p>';
                }
                
                // Cache kontrol et
                debug.innerHTML += '<h3>ğŸ—„ï¸ Cache Kontrol:</h3>';
                debug.innerHTML += '<p><strong>Response Headers:</strong></p>';
                debug.innerHTML += '<ul>';
                for (let [key, value] of response.headers) {
                    debug.innerHTML += '<li><strong>' + key + ':</strong> ' + value + '</li>';
                }
                debug.innerHTML += '</ul>';
                
                // Browser cache temizleme Ã¶nerisi
                debug.innerHTML += '<div style="background:#fff3cd;padding:15px;border-radius:8px;margin:20px 0;">';
                debug.innerHTML += '<h4>ğŸ’¡ Cache Temizleme Ã–nerileri:</h4>';
                debug.innerHTML += '<ol>';
                debug.innerHTML += '<li><strong>Hard Refresh:</strong> Ctrl+F5 veya Ctrl+Shift+R</li>';
                debug.innerHTML += '<li><strong>DevTools:</strong> F12 â†’ Network â†’ "Disable cache" iÅŸaretle</li>';
                debug.innerHTML += '<li><strong>Incognito:</strong> Yeni gizli sekme aÃ§</li>';
                debug.innerHTML += '<li><strong>Cache Clear:</strong> TarayÄ±cÄ± ayarlarÄ±ndan cache temizle</li>';
                debug.innerHTML += '</ol>';
                debug.innerHTML += '</div>';
                
            } catch (error) {
                debug.innerHTML += '<div style="color:red;padding:15px;background:#ffe6e6;border-radius:8px;">';
                debug.innerHTML += '<h3>âŒ Hata:</h3>';
                debug.innerHTML += '<p>' + error.message + '</p>';
                debug.innerHTML += '</div>';
            }
        }
        
        // Sayfa yÃ¼klendiÄŸinde Ã§alÄ±ÅŸtÄ±r
        debugMainJs();
        
        // Console error'larÄ± yakala
        window.addEventListener('error', function(e) {
            const debug = document.getElementById('debug-info');
            
            if (e.filename && e.filename.includes('main.js')) {
                debug.innerHTML += '<div style="color:red;padding:15px;background:#ffe6e6;border-radius:8px;margin:20px 0;">';
                debug.innerHTML += '<h3>ğŸš¨ JavaScript HatasÄ± YakalandÄ±:</h3>';
                debug.innerHTML += '<p><strong>Dosya:</strong> ' + e.filename + '</p>';
                debug.innerHTML += '<p><strong>SatÄ±r:</strong> ' + e.lineno + '</p>';
                debug.innerHTML += '<p><strong>Kolon:</strong> ' + e.colno + '</p>';
                debug.innerHTML += '<p><strong>Hata:</strong> ' + e.message + '</p>';
                debug.innerHTML += '<p><strong>Stack:</strong></p>';
                debug.innerHTML += '<pre>' + (e.error ? e.error.stack : 'Stack trace yok') + '</pre>';
                debug.innerHTML += '</div>';
            }
        });
    </script>
</body>
</html>
